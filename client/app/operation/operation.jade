.col-md-12
  h1(translate) Operations
  a(ui-sref='agent' translate) Back
  .container
    .row
      span(us-spinner ng-show='ctrl.showSpinner')
      p(ng-if='ctrl.counterAgents.length === 0 && !ctrl.showSpinner' translate) You do not have contacts
      div(ng-if='ctrl.agentOperations && ctrl.agentOperations.length > 0')
        h3(translate) Agent's completed operations
        table.table.table-responsive.table-hover
          thead
          tbody
            tr(ng-repeat='agentOperation in ctrl.agentOperations track by agentOperation.id')
              td {{agentOperation}}

      div(ng-if='ctrl.operations && ctrl.operations.confirmed.length > 0')
        h3(translate) Confirmed
        table.table.table-responsive.table-hover
          thead
          tbody
            tr(ng-repeat='confirmed in ctrl.operations.confirmed track by confirmed.id')
              td {{confirmed}}

      //div
      //  h3 Операции подтвержденные агентом
      //  table.table.table-responsive.table-hover
      //    thead
      //    tbody
      //      tr(ng-repeat='agentConfirmed in ctrl.agentOperations.agentConfirmed track by agentConfirmed.id')
      //        td {{agentConfirmed}}

      div(ng-if='ctrl.agentOperations && ctrl.agentOperations.waitingForConfirm.length > 0')
        h3(translate) Waiting for confirmation
        table.table.table-responsive.table-hover
          thead
          tbody
            tr(ng-repeat='waitingForConfirm in ctrl.agentOperations.waitingForConfirm track by waitingForConfirm.id')
              td {{waitingForConfirm}}
              td
                a(href='' ng-click='ctrl.confirmOperation(waitingForConfirm)' translate) Confirm

      div(ng-if='ctrl.counterAgents && ctrl.counterAgents.length > 0')
        h3(translate) Contacts
        table.table.table-responsive.table-hover
           thead
           tbody
             tr(ng-repeat='counterAgent in ctrl.counterAgents track by counterAgent.id')
              td {{counterAgent}}
              td
                a(href='' ng-click='ctrl.createOperation(counterAgent)' translate) Create operation
        form(ng-show='ctrl.showOperationCreateForm' ng-submit='ctrl.saveOperation()')
          legend(translate) New operation
          .form-group
            label(translate) Sum
            input.form-control(type='text' ng-model='ctrl.total')
          .form-group
            label(translate) Currency
            ui-select(ng-model='ctrl.currency')
              ui-select-match
                span(ng-bind='$select.selected.name')
              ui-select-choices(repeat='item in ctrl.currencies')
                span(ng-bind='item.name')
          div.btn-group
            label.btn.btn-primary(ng-model='ctrl.radioModel', uib-btn-radio="'lender'" translate) Lend
            label.btn.btn-primary(ng-model='ctrl.radioModel', uib-btn-radio="'debtor'" translate) Borrow

          button.btn(type='submit' translate) Save
